(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{306:function(t,e,n){"use strict";var r,i=n(0),o=n(130),a=n(480),s=n(69),c=n(4),l=n.n(c),u=n(5),d=n.n(u),b=n(6),h=n.n(b),p=n(10),f=n.n(p),j=n(3),x=n.n(j),y=n(102),g=n.n(y),O=n(2),v=n(101),m=n(57),C=n(9),k=n(26),I=n(95),B=n(104),S=n(481),_=n(1);function $(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=x()(t);if(e){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var T=Object(B.a)(r||(r=g()(["\n {\n  books {\n   _id\n   title\n   author\n  }\n }\n"]))),z=function(t){h()(n,t);var e=$(n);function n(){var t;l()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).keyExtractor=function(t,e){return e.toString()},t.renderItem=function(e){var n=e.item;return Object(_.jsx)(I.c,{title:n.title,onPress:function(){t.props.navigation.navigate("BookDetails",{id:""+n._id})},chevron:!0,bottomDivider:!0})},t}return d()(n,[{key:"render",value:function(){var t=this;return Object(_.jsx)(S.b,{pollInterval:500,query:T,children:function(e){var n=e.loading,r=e.error,i=e.data;return n?Object(_.jsx)(C.a,{style:E.activity,children:Object(_.jsx)(m.a,{size:"large",color:"#0000ff"})}):r?Object(_.jsx)(C.a,{style:E.activity,children:Object(_.jsxs)(k.a,{children:["`Error! $",r.message,"`"]})}):Object(_.jsx)(v.a,{keyExtractor:t.keyExtractor,data:i.books,renderItem:t.renderItem})}})}}]),n}(i.Component);z.navigationOptions=function(t){var e=t.navigation;return{title:"LIST OF BOOKS",headerRight:Object(_.jsx)(I.a,{buttonStyle:{padding:0,backgroundColor:"transparent"},icon:{name:"add-circle",style:{marginRight:0,fontSize:28}},onPress:function(){e.push("AddBook")}})}};var R,P,E=O.a.create({container:{flex:1,paddingBottom:22},item:{padding:10,fontSize:18,height:44},activity:{position:"absolute",left:0,right:0,top:0,bottom:0,alignItems:"center",justifyContent:"center"}}),A=z,W=n(59);function D(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=x()(t);if(e){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var w=Object(B.a)(R||(R=g()(["\n  query book($bookId: String) {\n    book(id: $bookId) {\n      _id\n      isbn\n      title\n      author\n      description\n      published_year\n      publisher\n      updated_date\n    }\n  }\n"]))),F=Object(B.a)(P||(P=g()(["\n mutation removeBook($id: String!) {\n  removeBook(id:$id) {\n   _id\n  }\n }\n"]))),q=function(t){h()(n,t);var e=D(n);function n(){return l()(this,n),e.apply(this,arguments)}return d()(n,[{key:"render",value:function(){var t=this.props.navigation;return Object(_.jsx)(S.b,{pollInterval:500,query:w,variables:{bookId:t.getParam("id")},children:function(e){var n=e.loading,r=e.error,i=e.data;return n?Object(_.jsx)(C.a,{style:L.activity,children:Object(_.jsx)(m.a,{size:"large",color:"#0000ff"})}):r?Object(_.jsxs)(k.a,{children:["`Error! $",r.message,"`"]}):Object(_.jsx)(W.a,{children:Object(_.jsxs)(I.b,{style:L.container,children:[Object(_.jsxs)(C.a,{style:L.subContainer,children:[Object(_.jsxs)(C.a,{children:[Object(_.jsx)(k.a,{style:{fontSize:16,fontWeight:"bold"},children:"ISBN:"}),Object(_.jsx)(k.a,{style:{fontSize:18,marginBottom:10},children:i.book.isbn})]}),Object(_.jsxs)(C.a,{children:[Object(_.jsx)(k.a,{style:{fontSize:16,fontWeight:"bold"},children:"Title: "}),Object(_.jsx)(k.a,{style:{fontSize:18,marginBottom:10},children:i.book.title})]}),Object(_.jsxs)(C.a,{children:[Object(_.jsx)(k.a,{style:{fontSize:16,fontWeight:"bold"},children:"Author: "}),Object(_.jsx)(k.a,{style:{fontSize:18,marginBottom:10},children:i.book.author})]}),Object(_.jsxs)(C.a,{children:[Object(_.jsx)(k.a,{style:{fontSize:16,fontWeight:"bold"},children:"Description: "}),Object(_.jsx)(k.a,{style:{fontSize:18,marginBottom:10},children:i.book.description})]}),Object(_.jsxs)(C.a,{children:[Object(_.jsx)(k.a,{style:{fontSize:16,fontWeight:"bold"},children:"Published Year: "}),Object(_.jsx)(k.a,{style:{fontSize:18,marginBottom:10},children:i.book.published_year})]}),Object(_.jsxs)(C.a,{children:[Object(_.jsx)(k.a,{style:{fontSize:16,fontWeight:"bold"},children:"Publisher: "}),Object(_.jsx)(k.a,{style:{fontSize:18,marginBottom:10},children:i.book.publisher})]}),Object(_.jsxs)(C.a,{children:[Object(_.jsx)(k.a,{style:{fontSize:16,fontWeight:"bold"},children:"Updated Date: "}),Object(_.jsx)(k.a,{style:{fontSize:18},children:i.book.updated_date})]})]}),Object(_.jsx)(S.a,{mutation:F,onCompleted:function(){return t.goBack()},children:function(e,n){var r=n.loading2,o=n.error2;return Object(_.jsxs)(C.a,{style:L.subContainer,children:[Object(_.jsx)(I.a,{style:L.detailButton,large:!0,backgroundColor:"#CCCCCC",leftIcon:{name:"edit"},title:"Edit",onPress:function(){t.navigate("EditBook",{id:""+i.book._id})}}),Object(_.jsx)(I.a,{style:L.detailButton,large:!0,backgroundColor:"#999999",color:"#FFFFFF",leftIcon:{name:"delete"},title:"Delete",onPress:function(){e({variables:{id:i.book._id}}).then((function(t){return t})).catch((function(t){return Object(_.jsx)(k.a,{children:t})}))}}),r&&Object(_.jsx)(C.a,{style:L.activity,children:Object(_.jsx)(m.a,{size:"large",color:"#0000ff"})}),o&&Object(_.jsxs)(k.a,{children:["`Error! $",o.message,"`"]})]})}},i.book._id)]})})}})}}]),n}(i.Component);q.navigationOptions={title:"Book Details"};var V,L=O.a.create({container:{flex:1,padding:20},subContainer:{flex:1,paddingBottom:20,borderBottomWidth:2,borderBottomColor:"#CCCCCC"},activity:{position:"absolute",left:0,right:0,top:0,bottom:0,alignItems:"center",justifyContent:"center"},detailButton:{marginTop:10}}),N=q,Y=n(38);function J(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=x()(t);if(e){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var K=Object(B.a)(V||(V=g()(["\n  mutation AddBook(\n    $isbn: String!,\n    $title: String!,\n    $author: String!,\n    $description: String!,\n    $publisher: String!,\n    $published_year: Int!) {\n    addBook(\n      isbn: $isbn,\n      title: $title,\n      author: $author,\n      description: $description,\n      publisher: $publisher,\n      published_year: $published_year) {\n      _id\n    }\n  }\n"]))),M=function(t){h()(n,t);var e=J(n);function n(){var t;l()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).state={isbn:"",title:"",author:"",description:"",published_year:"",publisher:""},t.updateTextInput=function(e,n){var r=t.state;r[n]=e,t.setState(r)},t}return d()(n,[{key:"render",value:function(){var t=this,e=this.state,n=(e.isbn,e.title,e.author,e.description,e.published_year,e.publisher);return Object(_.jsx)(S.a,{mutation:K,onCompleted:function(){return t.props.navigation.goBack()},children:function(e,r){var i=r.loading,o=r.error;return Object(_.jsxs)(W.a,{style:H.container,children:[Object(_.jsx)(C.a,{style:H.subContainer,children:Object(_.jsx)(Y.a,{style:H.textInput,placeholder:"ISBN",value:t.state.isbn,onChangeText:function(e){return t.updateTextInput(e,"isbn")}})}),Object(_.jsx)(C.a,{style:H.subContainer,children:Object(_.jsx)(Y.a,{style:H.textInput,placeholder:"Title",value:t.state.title,onChangeText:function(e){return t.updateTextInput(e,"title")}})}),Object(_.jsx)(C.a,{style:H.subContainer,children:Object(_.jsx)(Y.a,{style:H.textInput,placeholder:"Author",value:t.state.author,onChangeText:function(e){return t.updateTextInput(e,"author")}})}),Object(_.jsx)(C.a,{style:H.subContainer,children:Object(_.jsx)(Y.a,{style:H.textInput,placeholder:"Description",multiline:!0,numberOfLines:4,value:t.state.description,onChangeText:function(e){return t.updateTextInput(e,"description")}})}),Object(_.jsx)(C.a,{style:H.subContainer,children:Object(_.jsx)(Y.a,{style:H.textInput,placeholder:"Published Year",value:t.state.published_year,keyboardType:"numeric",onChangeText:function(e){return t.updateTextInput(e,"published_year")}})}),Object(_.jsx)(C.a,{style:H.subContainer,children:Object(_.jsx)(Y.a,{style:H.textInput,placeholder:"Publisher",value:t.state.publisher,onChangeText:function(e){return t.updateTextInput(e,"publisher")}})}),Object(_.jsx)(C.a,{children:Object(_.jsx)(I.a,{large:!0,leftIcon:{name:"save"},title:"Save",onPress:function(){e({variables:{isbn:t.state.isbn,title:t.state.title,author:t.state.author,description:t.state.description,publisher:t.state.publisher,published_year:parseInt(t.state.published_year)}}).then((function(e){return t.setState({isbn:"",title:"",author:"",description:"",published_year:"",publisher:n})})).catch((function(t){return Object(_.jsx)(k.a,{children:t})}))}})}),i&&Object(_.jsx)(C.a,{style:H.activity,children:Object(_.jsx)(m.a,{size:"large",color:"#0000ff"})}),o&&Object(_.jsxs)(k.a,{children:["`Error! $",o.message,"`"]})]})}})}}]),n}(i.Component);M.navigationOptions={title:"Add Book"};var U,G,H=O.a.create({container:{flex:1,padding:20},subContainer:{flex:1,marginBottom:20,padding:5,borderBottomWidth:2,borderBottomColor:"#CCCCCC"},activity:{position:"absolute",left:0,right:0,top:0,bottom:0,alignItems:"center",justifyContent:"center"},textInput:{fontSize:18,margin:5}}),Q=M;function X(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=x()(t);if(e){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f()(this,n)}}var Z=Object(B.a)(U||(U=g()(["\n  query book($bookId: String) {\n    book(id: $bookId) {\n      _id\n      isbn\n      title\n      author\n      description\n      published_year\n      publisher\n      updated_date\n    }\n  }\n"]))),tt=Object(B.a)(G||(G=g()(["\n  mutation updateBook(\n    $id: String!,\n    $isbn: String!,\n    $title: String!,\n    $author: String!,\n    $description: String!,\n    $publisher: String!,\n    $published_year: Int!) {\n    updateBook(\n    id: $id,\n    isbn: $isbn,\n    title: $title,\n    author: $author,\n    description: $description,\n    publisher: $publisher,\n    published_year: $published_year) {\n      updated_date\n    }\n  }\n"]))),et=function(t){h()(n,t);var e=X(n);function n(){var t;l()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).state={isbn:"",title:"",author:"",description:"",published_year:"",publisher:""},t.updateTextInput=function(e,n){var r=t.state;r[n]=e,t.setState(r)},t}return d()(n,[{key:"render",value:function(){var t=this,e=this.props.navigation,n=this.state;n.isbn,n.title,n.author,n.description,n.published_year,n.publisher;return Object(_.jsx)(S.b,{query:Z,variables:{bookId:e.getParam("id")},children:function(n){var r=n.loading,i=n.error,o=n.data;return r?Object(_.jsx)(C.a,{style:nt.activity,children:Object(_.jsx)(m.a,{size:"large",color:"#0000ff"})}):i?Object(_.jsxs)(k.a,{children:["`Error! $",i.message,"`"]}):Object(_.jsx)(S.a,{mutation:tt,onCompleted:function(){return e.goBack()},children:function(e,n){var r=n.loading2,i=n.error2;return Object(_.jsxs)(W.a,{style:nt.container,children:[Object(_.jsx)(C.a,{style:nt.subContainer,children:Object(_.jsx)(Y.a,{style:nt.textInput,placeholder:"ISBN",defaultValue:o.book.isbn,onChangeText:function(e){return t.updateTextInput(e,"isbn")}})}),Object(_.jsx)(C.a,{style:nt.subContainer,children:Object(_.jsx)(Y.a,{style:nt.textInput,placeholder:"Title",defaultValue:o.book.title,onChangeText:function(e){return t.updateTextInput(e,"title")}})}),Object(_.jsx)(C.a,{style:nt.subContainer,children:Object(_.jsx)(Y.a,{style:nt.textInput,placeholder:"Author",defaultValue:o.book.author,onChangeText:function(e){return t.updateTextInput(e,"author")}})}),Object(_.jsx)(C.a,{style:nt.subContainer,children:Object(_.jsx)(Y.a,{style:nt.textInput,placeholder:"Description",multiline:!0,numberOfLines:4,defaultValue:o.book.description,onChangeText:function(e){return t.updateTextInput(e,"description")}})}),Object(_.jsx)(C.a,{style:nt.subContainer,children:Object(_.jsx)(Y.a,{style:nt.textInput,placeholder:"Published Year",defaultValue:o.book.published_year.toString(),keyboardType:"numeric",onChangeText:function(e){return t.updateTextInput(e,"published_year")}})}),Object(_.jsx)(C.a,{style:nt.subContainer,children:Object(_.jsx)(Y.a,{style:nt.textInput,placeholder:"Publisher",defaultValue:o.book.publisher,onChangeText:function(e){return t.updateTextInput(e,"publisher")}})}),Object(_.jsx)(C.a,{children:Object(_.jsx)(I.a,{large:!0,leftIcon:{name:"save"},title:"Save",onPress:function(){""===t.state.isbn&&(t.state.isbn=o.book.isbn),""===t.state.title&&(t.state.title=o.book.title),""===t.state.author&&(t.state.author=o.book.author),""===t.state.description&&(t.state.description=o.book.description),""===t.state.publisher&&(t.state.publisher=o.book.publisher),""===t.state.published_year&&(t.state.published_year=o.book.published_year),e({variables:{id:o.book._id,isbn:t.state.isbn,title:t.state.title,author:t.state.author,description:t.state.description,publisher:t.state.publisher,published_year:parseInt(t.state.published_year)}}).then((function(t){return t})).catch((function(t){return Object(_.jsx)(k.a,{children:t})}))}})}),r&&Object(_.jsx)(C.a,{style:nt.activity,children:Object(_.jsx)(m.a,{size:"large",color:"#0000ff"})}),i&&Object(_.jsxs)(k.a,{children:["`Error! $",i.message,"`"]})]})}},o.book._id)}})}}]),n}(i.Component);et.navigationOptions={title:"Edit Book"};var nt=O.a.create({container:{flex:1,padding:20},subContainer:{flex:1,marginBottom:20,padding:5,borderBottomWidth:2,borderBottomColor:"#CCCCCC"},activity:{position:"absolute",left:0,right:0,top:0,bottom:0,alignItems:"center",justifyContent:"center"},textInput:{fontSize:18,margin:5}}),rt=et,it=n(119),ot=n(307),at=n(308),st=n(58),ct=Object(a.a)({Book:{screen:A},BookDetails:{screen:N},AddBook:{screen:Q},EditBook:{screen:rt}}),lt=Object(s.createAppContainer)(ct),ut=new ot.a,dt=new it.a({cache:ut,link:new at.a({uri:"http://localhost:3000/graphql"})}),bt=function(){return Object(_.jsx)(st.a,{client:dt,children:Object(_.jsx)(lt,{})})};o.a.registerComponent("MyApp",(function(){return bt}));e.a=bt},312:function(t,e,n){t.exports=n(454)}},[[312,1,2]]]);
//# sourceMappingURL=app.4ae3a0a7.chunk.js.map